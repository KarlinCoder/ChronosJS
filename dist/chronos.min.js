class Chronos{constructor(t,e,r){this.locale=r||this.getDefaultLocale(),t instanceof Chronos?(this.date=new Date(t.date),this.timezoneOffset=t.timezoneOffset):(t instanceof Date?this.date=new Date(t):this.date="string"==typeof t?this.parseString(t,e):"number"==typeof t?new Date(t):new Date,this.timezoneOffset=this.parseTimezoneOffset(e)),null!==this.timezoneOffset&&this.applyTimezoneOffset()}clone(){return new Chronos(this)}isValid(){return!isNaN(this.date.getTime())}get year(){return this.date.getFullYear()}get month(){return this.date.getMonth()+1}get day(){return this.date.getDate()}get hour(){return this.date.getHours()}get minute(){return this.date.getMinutes()}get second(){return this.date.getSeconds()}get millisecond(){return this.date.getMilliseconds()}get dayOfWeek(){return this.date.getDay()}set year(t){return this.date.setFullYear(t),this}set month(t){return this.date.setMonth(t-1),this}set day(t){return this.date.setDate(t),this}add(t){var e=this.clone();return t.years&&e.date.setFullYear(e.date.getFullYear()+t.years),t.months&&e.date.setMonth(e.date.getMonth()+t.months),t.days&&e.date.setDate(e.date.getDate()+t.days),t.hours&&e.date.setHours(e.date.getHours()+t.hours),t.minutes&&e.date.setMinutes(e.date.getMinutes()+t.minutes),t.seconds&&e.date.setSeconds(e.date.getSeconds()+t.seconds),t.milliseconds&&e.date.setMilliseconds(e.date.getMilliseconds()+t.milliseconds),e}subtract(t){var e,r,s={};for([e,r]of Object.entries(t))s[e]=-r;return this.add(s)}diff(t,e="millisecond"){var r=this.date.getTime()-t.date.getTime();switch(e){case"year":return this.diffInYears(t);case"month":return this.diffInMonths(t);case"day":return Math.floor(r/864e5);case"hour":return Math.floor(r/36e5);case"minute":return Math.floor(r/6e4);case"second":return Math.floor(r/1e3);default:return r}}isBefore(t){return this.date.getTime()<t.date.getTime()}isAfter(t){return this.date.getTime()>t.date.getTime()}isSame(t,e){if(!e)return this.date.getTime()===t.date.getTime();switch(e){case"year":return this.year===t.year;case"month":return this.year===t.year&&this.month===t.month;case"day":return this.year===t.year&&this.month===t.month&&this.day===t.day;default:return this.date.getTime()===t.date.getTime()}}format(t="YYYY-MM-DD HH:mm:ss"){var e;let r=t;for(e of["YYYY","YY","MMMM","MMM","MM","M","DD","D","HH","H","hh","h","mm","m","ss","s","SSS","A","a","ZZ","Z","dddd","ddd"])r=r.replace(e,this.formatToken(e));return r}setLocale(t){var e=this.clone();return e.locale=t,e}setTimezone(t){var e=this.clone();return e.timezoneOffset=this.parseTimezoneOffset(t),null!==e.timezoneOffset&&e.applyTimezoneOffset(),e}formatToken(t){switch(t){case"YYYY":return String(this.year).padStart(4,"0");case"YY":return String(this.year%100).padStart(2,"0");case"MMMM":return this.locale.months[this.date.getMonth()];case"MMM":return this.locale.monthsShort[this.date.getMonth()];case"MM":return String(this.month).padStart(2,"0");case"M":return String(this.month);case"DD":return String(this.day).padStart(2,"0");case"D":return String(this.day);case"HH":return String(this.hour).padStart(2,"0");case"H":return String(this.hour);case"hh":var e=this.hour%12||12;return String(e).padStart(2,"0");case"h":return String(this.hour%12||12);case"mm":return String(this.minute).padStart(2,"0");case"m":return String(this.minute);case"ss":return String(this.second).padStart(2,"0");case"s":return String(this.second);case"SSS":return String(this.millisecond).padStart(3,"0");case"A":return 12<=this.hour?"PM":"AM";case"a":return 12<=this.hour?"pm":"am";case"dddd":return this.locale.weekdays[this.dayOfWeek];case"ddd":return this.locale.weekdaysShort[this.dayOfWeek];case"ZZ":var r;return null===this.timezoneOffset?"":(r=(e=this.timezoneOffset)<=0?"+":"-",e=Math.abs(e),r+Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0"));case"Z":return null===this.timezoneOffset?"":(0<=this.timezoneOffset?"-":"+")+Math.abs(this.timezoneOffset);default:return t}}diffInYears(t){var e=this.year-t.year;return this.month<t.month||this.month===t.month&&this.day<t.day?e-1:e}diffInMonths(t){var e=12*(this.year-t.year)+(this.month-t.month);return this.day<t.day?e-1:e}parseTimezoneOffset(t){if("number"==typeof t)return t;if("string"==typeof t){if("UTC"===t)return 0;t=t.match(/^UTC([+-])(\d+)$/);if(t)return parseInt(t[2])*("+"===t[1]?60:-60)}return null}applyTimezoneOffset(){var t;null!==this.timezoneOffset&&(t=this.date.getTimezoneOffset(),t=this.timezoneOffset-t,this.date=new Date(this.date.getTime()+6e4*t))}parseString(t){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return new Date(t+"T00:00:00");if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(t))return new Date(t);throw new Error("Unsupported date string format: "+t)}getDefaultLocale(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekStart:0,meridiem:t=>12<=t?"PM":"AM"}}static now(t){return new Chronos(new Date,t)}static utc(t){return new Chronos(t,"UTC")}static duration(t){return t}}"undefined"!=typeof module&&module.exports?module.exports=Chronos:"undefined"!=typeof window&&(window.Chronos=Chronos);